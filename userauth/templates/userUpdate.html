<!-- tenta fazer com que a imagem atual do usuario apareca utilizando aquele
comentario da linha 22. la esta faltando um par de {} por que a pagina estava
lendo a linha mesmo comentada -->
{% extends "base.html" %}
{% block content %}
{% include "partials/configNav.html" %}
<section class="configSection">
    <h1>Editar Perfil</h1>
    <h3>Contato</h3>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
    <div id="inputDiv">

        <label for="username">Nome de usuario:</label>
        <input type="text" name="username" id="insta" placeholder="Nome do seu usuario aqui">
        <label for="instagram_field">Instagram:</label>
        <input type="text" name="instagram_field" id="insta" placeholder="EX.: https://www.instagram.com/nome_do_usuario/">
        <label for="facebook_field">Facebook:</label>
        <input type="text" name="facebook_field" placeholder="EX.: https://www.instagram.com/nome_do_usuario/">
        <label for="phone_number">Telefone:</label>
        <input type="number" name="phone_number" placeholder="EX.:77 777777777"
        value="{{ user.phone_number }}">
        <button type="submit">Salvar</button>
    </div>

</form>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <h3>Foto de Perfil</h3>
        <div id="photoDiv">
            <div id="profileImageDiv">
                <img src="{{ user.image_user_profile.url }}" alt="Foto de perfil do usuÃ¡rio" id="profileImage">
            </div>
            <label for="changePhoto" id="changePhotoLabel">Trocar foto</label>
            <input type="file" name="image_user_profile" id="changePhoto" style="display: none;">

        </div>
        <button type="submit">Salvar</button>
    </form>
    <h1 id="deletarPerfil">DELETAR PERFIL</h1>
</section>

<script>
document.getElementById('changePhoto').addEventListener('change', function(event) {
    var reader = new FileReader();
    reader.onload = function(){
        var output = document.getElementById('profileImage');
        output.src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
});
document.getElementById("deletarPerfil").addEventListener("click", function() {
    const question1 = window.confirm("Realmente deseja deletar este perfil?");
    if (question1 === true) {
        const question2 = window.prompt("Para confirmar, digite 'Sim'");
        if (question2 === "Sim") {
            window.alert("conta deletada");
        }
    }
});

</script>
{% endblock content %}
